How to use it (TL;DR)

Deploy BatchGuardianCouncil with:

activeGs (Batch A guardians), activeThresh (e.g., 5 for 7:5).

standbyGs (Batch B guardians), standbyThresh (e.g., 5).

dao address (multisig / timelock / governor).

Optional roleTarget + roleSelector to actually set the protected role on an external contract during executeRecovery().


Normal operation:

1. Active guardian calls proposeRecovery(newHolder).


2. Active guardians call approveRecovery().


3. Anyone calls executeRecovery() (once approvals ≥ threshold).



Fast failover:

Standby can self-promote via proposePromotion() → approvePromotion() → executePromotion().

DAO can force promotion: daoPromoteStandby().

Last honest active guardian (the one who hasn’t signed yet when there are exactly threshold-1 approvals) can call lastHonestHaltAndPromote().


Maintenance:

After promotion, DAO must call refillStandby() to repopulate the standby batch.
